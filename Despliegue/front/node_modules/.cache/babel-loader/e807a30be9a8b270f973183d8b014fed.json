{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/Delmiro/Desktop/TicketeraFrontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Delmiro/Desktop/TicketeraFrontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\Delmiro\\\\Desktop\\\\TicketeraFrontend\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useEffect,useState}from'react';import{Navbar,Nav,Container,Modal,Button}from'react-bootstrap';import{api}from'../API/api';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function NavBar(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showLogin=_useState2[0],setShowLogin=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showRegister=_useState4[0],setShowRegister=_useState4[1];var handleCloseLogin=function handleCloseLogin(){return setShowLogin(false);};var handleShowLogin=function handleShowLogin(){return setShowLogin(true);};var handleCloseRegister=function handleCloseRegister(){return setShowRegister(false);};var handleShowRegister=function handleShowRegister(){return setShowRegister(true);};var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),logged=_useState6[0],setLogged=_useState6[1];var submitRegister=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var nombre,apellido,email,password;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:nombre=document.getElementById('nombre').value;apellido=document.getElementById('apellido').value;email=document.getElementById('email').value;password=document.getElementById('password').value;_context.next=6;return api.register(nombre,apellido,email,password).then(function(response){console.log(response.data);});case 6:case\"end\":return _context.stop();}}},_callee);}));return function submitRegister(){return _ref.apply(this,arguments);};}();useEffect(function(){function loggedIn(){return _loggedIn.apply(this,arguments);}function _loggedIn(){_loggedIn=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:getLogged();case 1:case\"end\":return _context2.stop();}}},_callee2);}));return _loggedIn.apply(this,arguments);}loggedIn();},[]);var getLogged=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var getCookieValue,token;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:getCookieValue=function getCookieValue(name){var _document$cookie$matc;return((_document$cookie$matc=document.cookie.match('(^|;)\\\\s*'+name+'\\\\s*=\\\\s*([^;]+)'))===null||_document$cookie$matc===void 0?void 0:_document$cookie$matc.pop())||'';};token=getCookieValue('sess');console.log(token);_context3.next=5;return api.isLogged(token).then(function(response){console.log(response.data.id);setLogged(response.data.id);});case 5:case\"end\":return _context3.stop();}}},_callee3);}));return function getLogged(){return _ref2.apply(this,arguments);};}();var submitLogin=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var email,password;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:email=document.getElementById('email').value;password=document.getElementById('password').value;_context4.next=4;return api.login(email,password).then(function(response){document.cookie='sess='+response.data+'; max-age=3600';window.location.reload(false);});case 4:case\"end\":return _context4.stop();}}},_callee4);}));return function submitLogin(){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(Navbar,{collapseOnSelect:true,expand:\"lg\",bg:\"light\",variant:\"light\",children:[/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Navbar.Brand,{href:\"/\",children:/*#__PURE__*/_jsx(\"img\",{alt:\"Compralas\",src:\"img/compralas logo.png\",width:\"90px\"})}),/*#__PURE__*/_jsx(Navbar.Toggle,{\"aria-controls\":\"responsive-navbar-nav\"}),/*#__PURE__*/_jsxs(Navbar.Collapse,{id:\"responsive-navbar-nav\",children:[/*#__PURE__*/_jsxs(Nav,{className:\"me-auto\",children:[/*#__PURE__*/_jsx(Nav.Link,{href:\"/\",children:\"Home\"}),/*#__PURE__*/_jsx(Nav.Link,{href:\"/eventos\",children:\"Eventos\"}),/*#__PURE__*/_jsx(Nav.Link,{href:\"/sobre-nosotros\",children:\"Sobre nosotros\"})]}),/*#__PURE__*/_jsxs(Nav,{children:[/*#__PURE__*/_jsx(Nav.Link,{onClick:handleShowLogin,children:\"Log in\"}),/*#__PURE__*/_jsx(Nav.Link,{onClick:handleShowRegister,id:\"btn\",children:\"Reg\\xEDstrate\"})]})]})]}),/*#__PURE__*/_jsxs(Modal,{show:showLogin,onHide:handleCloseLogin,children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:\"Iniciar sesi\\xF3n\"})}),/*#__PURE__*/_jsx(Modal.Body,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"Login\",children:[/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"email\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Contrase\\xF1a\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"password\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsx(Button,{onClick:submitLogin,children:\"Acceder\"})]})})]}),/*#__PURE__*/_jsxs(Modal,{show:showRegister,onHide:handleCloseRegister,children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:\"Reg\\xEDstrate\"})}),/*#__PURE__*/_jsx(Modal.Body,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"Signup\",children:[/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"nombre\",children:\"Nombre\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"nombre\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"apellido\",children:\"Apellido\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"apellido\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"email\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Contrase\\xF1a\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"password\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsx(Button,{onClick:submitRegister,children:\"Registrar\"})]})})]})]});}export default NavBar;","map":{"version":3,"sources":["C:/Users/Delmiro/Desktop/TicketeraFrontend/src/screens/navbar.js"],"names":["React","useEffect","useState","Navbar","Nav","Container","Modal","Button","api","NavBar","showLogin","setShowLogin","showRegister","setShowRegister","handleCloseLogin","handleShowLogin","handleCloseRegister","handleShowRegister","logged","setLogged","submitRegister","nombre","document","getElementById","value","apellido","email","password","register","then","response","console","log","data","loggedIn","getLogged","getCookieValue","name","cookie","match","pop","token","isLogged","id","submitLogin","login","window","location","reload"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { Navbar, Nav, Container, Modal, Button } from 'react-bootstrap'\r\nimport { api } from '../API/api';\r\n\r\nfunction NavBar() {\r\n    const [showLogin, setShowLogin] = useState(false);\r\n    const [showRegister, setShowRegister] = useState(false);\r\n\r\n    const handleCloseLogin = () => setShowLogin(false);\r\n    const handleShowLogin = () => setShowLogin(true);\r\n    const handleCloseRegister = () => setShowRegister(false);\r\n    const handleShowRegister = () => setShowRegister(true);\r\n\r\n    const [logged, setLogged] = useState(null);\r\n\r\n    const submitRegister = async () => {\r\n        var nombre = document.getElementById('nombre').value;\r\n        var apellido = document.getElementById('apellido').value;\r\n        var email = document.getElementById('email').value;\r\n        var password = document.getElementById('password').value;\r\n\r\n        await api.register(nombre, apellido, email, password)\r\n            .then(response => {\r\n                console.log(response.data);\r\n            })\r\n    }\r\n\r\n    useEffect(() => {\r\n      async function loggedIn(){\r\n          getLogged();\r\n      }\r\n      loggedIn()\r\n    }, [])\r\n\r\n    const getLogged = async () => {\r\n        const getCookieValue = (name) => (\r\n            document.cookie.match('(^|;)\\\\s*' + name + '\\\\s*=\\\\s*([^;]+)')?.pop() || ''\r\n        )\r\n        const token = getCookieValue('sess')\r\n        console.log(token)\r\n\r\n        await api.isLogged(token).then(response => {\r\n            console.log(response.data.id);\r\n            setLogged(response.data.id)\r\n        })\r\n\r\n    }\r\n\r\n    const submitLogin = async () => {\r\n        var email = document.getElementById('email').value;\r\n        var password = document.getElementById('password').value;\r\n\r\n        await api.login(email, password)\r\n            .then(response => {\r\n                document.cookie = 'sess=' + response.data + '; max-age=3600';\r\n                window.location.reload(false);\r\n            })\r\n    }\r\n\r\n    return (\r\n        <Navbar collapseOnSelect expand=\"lg\" bg=\"light\" variant=\"light\">\r\n            <Container>\r\n                <Navbar.Brand href=\"/\"><img alt='Compralas' src='img/compralas logo.png' width='90px' /></Navbar.Brand>\r\n                <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\r\n                <Navbar.Collapse id=\"responsive-navbar-nav\">\r\n                    <Nav className=\"me-auto\">\r\n                        <Nav.Link href=\"/\">Home</Nav.Link>\r\n                        <Nav.Link href=\"/eventos\">Eventos</Nav.Link>\r\n                        <Nav.Link href=\"/sobre-nosotros\">Sobre nosotros</Nav.Link>\r\n                    </Nav>\r\n                    <Nav>\r\n                        <Nav.Link onClick={handleShowLogin}>Log in</Nav.Link>\r\n                        <Nav.Link onClick={handleShowRegister} id=\"btn\">Regístrate</Nav.Link>\r\n                    </Nav>\r\n                </Navbar.Collapse>\r\n            </Container>\r\n\r\n            <Modal show={showLogin} onHide={handleCloseLogin}>\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>Iniciar sesión</Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body>\r\n                    <div className=\"Login\">\r\n                        <form>\r\n                            <label htmlFor=\"email\">Email</label><br />\r\n                            <input type=\"text\" id=\"email\" /><br />\r\n                            <label htmlFor=\"password\">Contraseña</label><br />\r\n                            <input type=\"text\" id=\"password\" /><br /><br />\r\n                        </form>\r\n                        <Button onClick={submitLogin}>Acceder</Button>\r\n                    </div>\r\n                </Modal.Body>\r\n            </Modal>\r\n\r\n            <Modal show={showRegister} onHide={handleCloseRegister}>\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>Regístrate</Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body>\r\n                    <div className=\"Signup\">\r\n                        <form>\r\n                            <label htmlFor=\"nombre\">Nombre</label><br />\r\n                            <input type=\"text\" id=\"nombre\" /><br />\r\n                            <label htmlFor=\"apellido\">Apellido</label><br />\r\n                            <input type=\"text\" id=\"apellido\" /><br />\r\n                            <label htmlFor=\"email\">Email</label><br />\r\n                            <input type=\"text\" id=\"email\" /><br />\r\n                            <label htmlFor=\"password\">Contraseña</label><br />\r\n                            <input type=\"text\" id=\"password\" /><br /><br />\r\n                        </form>\r\n                        <Button onClick={submitRegister}>Registrar</Button>\r\n                    </div>\r\n                </Modal.Body>\r\n            </Modal>\r\n        </Navbar>\r\n    )\r\n\r\n}\r\n\r\nexport default NavBar;"]},"metadata":{},"sourceType":"module"}