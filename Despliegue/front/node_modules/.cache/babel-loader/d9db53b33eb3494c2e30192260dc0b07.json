{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Delmiro\\\\Desktop\\\\TicketeraFrontend\\\\src\\\\screens\\\\navbar.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { Navbar, Nav, Container, Modal, Button, NavDropdown } from 'react-bootstrap';\nimport { api } from '../API/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction NavBar() {\n  _s();\n\n  const [showLogin, setShowLogin] = useState(false);\n  const [showRegister, setShowRegister] = useState(false);\n\n  const handleCloseLogin = () => setShowLogin(false);\n\n  const handleShowLogin = () => setShowLogin(true);\n\n  const handleCloseRegister = () => setShowRegister(false);\n\n  const handleShowRegister = () => setShowRegister(true);\n\n  const [logged, setLogged] = useState(false);\n\n  const submitRegister = async () => {\n    const emailRegex = /^[\\w-\\.]+@([\\w-]+\\.)+[\\w-]{2,4}$/;\n    var nombre = document.getElementById('nombre').value;\n    var apellido = document.getElementById('apellido').value;\n    var email = document.getElementById('email').value;\n    var password = document.getElementById('password').value;\n\n    if (nombre !== '' && apellido !== '' && emailRegex.test(email) && password !== '') {\n      await api.register(nombre, apellido, email, password).then(response => {\n        window.location.reload(false);\n      }).catch(error => {\n        const errorRegister = document.getElementById('errorRegister');\n        errorRegister.innerHTML = 'Ya existe una cuenta con este correo electrónico.';\n        errorRegister.classList.add('errorLogin');\n      });\n    } else {\n      const errorRegister = document.getElementById('errorRegister');\n      errorRegister.innerHTML = 'Rellena todos los campos correctamente.';\n      errorRegister.classList.add('errorLogin');\n    }\n  };\n\n  useEffect(() => {\n    async function loggedIn() {\n      getLogged();\n    }\n\n    loggedIn();\n  }, []);\n\n  const getCookieValue = name => {\n    var _document$cookie$matc;\n\n    return ((_document$cookie$matc = document.cookie.match('(^|;)\\\\s*' + name + '\\\\s*=\\\\s*([^;]+)')) === null || _document$cookie$matc === void 0 ? void 0 : _document$cookie$matc.pop()) || '';\n  };\n\n  const getLogged = async () => {\n    const token = getCookieValue('sess');\n\n    if (token !== '') {\n      await api.isLogged(token).then(response => {\n        setLogged(response.data.id);\n      }).catch(error => {\n        setLogged(false);\n        document.cookie = 'sess' + '=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;';\n        window.location.reload(false);\n      });\n    }\n  };\n\n  function logOut() {\n    document.cookie = 'sess' + '=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;';\n  }\n\n  const submitLogin = async () => {\n    var email = document.getElementById('email').value;\n    var password = document.getElementById('password').value;\n    await api.login(email, password).then(response => {\n      document.cookie = 'sess=' + response.data + '; Path=/; max-age=3600';\n      window.location.reload(false);\n    }).catch(error => {\n      const errorLogin = document.getElementById('errorLogin');\n      errorLogin.innerHTML = 'Credenciales erróneas.';\n      errorLogin.classList.add('errorLogin');\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(Navbar, {\n    collapseOnSelect: true,\n    expand: \"lg\",\n    bg: \"light\",\n    variant: \"light\",\n    sticky: \"top\",\n    children: [/*#__PURE__*/_jsxDEV(Container, {\n      children: [/*#__PURE__*/_jsxDEV(Navbar.Brand, {\n        href: \"/\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          alt: \"Compralas\",\n          src: \"/img/compralas logo.png\",\n          width: \"60px\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 40\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Navbar.Toggle, {\n        \"aria-controls\": \"responsive-navbar-nav\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Navbar.Collapse, {\n        id: \"responsive-navbar-nav\",\n        children: [/*#__PURE__*/_jsxDEV(Nav, {\n          className: \"me-auto\",\n          children: [/*#__PURE__*/_jsxDEV(Nav.Link, {\n            href: \"/\",\n            children: \"Home\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Nav.Link, {\n            href: \"/eventos\",\n            children: \"Eventos\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Nav.Link, {\n            href: \"/sobre-nosotros\",\n            children: \"Sobre nosotros\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Nav, {\n          children: getCookieValue('sess') === '' ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(Nav.Link, {\n              onClick: handleShowLogin,\n              id: \"btnLogin\",\n              children: \"Log in\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Nav.Link, {\n              onClick: handleShowRegister,\n              id: \"btnRegister\",\n              children: \"Reg\\xEDstrate\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(NavDropdown, {\n            title: \"Mi cuenta\",\n            id: \"basic-nav-dropdown\",\n            children: [/*#__PURE__*/_jsxDEV(NavDropdown.Item, {\n              href: \"#\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                class: \"bi bi-person-circle\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 60\n              }, this), \" Mis datos\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(NavDropdown.Item, {\n              href: \"#\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                class: \"bi bi-ticket-perforated\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 108,\n                columnNumber: 60\n              }, this), \" Mis compras\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(NavDropdown.Divider, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(NavDropdown.Item, {\n              onClick: logOut,\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                class: \"bi bi-door-open\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 110,\n                columnNumber: 68\n              }, this), \" Cerrar sesi\\xF3n\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      show: showLogin,\n      onHide: handleCloseLogin,\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          children: \"Iniciar sesi\\xF3n\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"Login\",\n          children: [/*#__PURE__*/_jsxDEV(\"form\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"email\",\n              children: \"Email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 65\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 61\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"password\",\n              children: \"Contrase\\xF1a\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 73\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              id: \"password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 68\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 74\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'none'\n              },\n              id: \"errorLogin\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: submitLogin,\n            children: \"Acceder\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      show: showRegister,\n      onHide: handleCloseRegister,\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          children: \"Reg\\xEDstrate\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"Signup\",\n          children: [/*#__PURE__*/_jsxDEV(\"form\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"nombre\",\n              children: \"Nombre\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 67\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"nombre\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 62\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"apellido\",\n              children: \"Apellido\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 71\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"apellido\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 64\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"email\",\n              children: \"Email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 65\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 61\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"password\",\n              children: \"Contrase\\xF1a\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 73\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              id: \"password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 68\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 74\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'none'\n              },\n              id: \"errorRegister\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: submitRegister,\n            children: \"Registrar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 88,\n    columnNumber: 9\n  }, this);\n}\n\n_s(NavBar, \"IVmUtkHPHIiCKhK5SIRPKMb/s9I=\");\n\n_c = NavBar;\nexport default NavBar;\n\nvar _c;\n\n$RefreshReg$(_c, \"NavBar\");","map":{"version":3,"sources":["C:/Users/Delmiro/Desktop/TicketeraFrontend/src/screens/navbar.js"],"names":["React","useEffect","useState","Navbar","Nav","Container","Modal","Button","NavDropdown","api","NavBar","showLogin","setShowLogin","showRegister","setShowRegister","handleCloseLogin","handleShowLogin","handleCloseRegister","handleShowRegister","logged","setLogged","submitRegister","emailRegex","nombre","document","getElementById","value","apellido","email","password","test","register","then","response","window","location","reload","catch","error","errorRegister","innerHTML","classList","add","loggedIn","getLogged","getCookieValue","name","cookie","match","pop","token","isLogged","data","id","logOut","submitLogin","login","errorLogin","display"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,MAAT,EAAiBC,GAAjB,EAAsBC,SAAtB,EAAiCC,KAAjC,EAAwCC,MAAxC,EAAgDC,WAAhD,QAAmE,iBAAnE;AACA,SAASC,GAAT,QAAoB,YAApB;;;;AAEA,SAASC,MAAT,GAAkB;AAAA;;AACd,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BV,QAAQ,CAAC,KAAD,CAA1C;AACA,QAAM,CAACW,YAAD,EAAeC,eAAf,IAAkCZ,QAAQ,CAAC,KAAD,CAAhD;;AAEA,QAAMa,gBAAgB,GAAG,MAAMH,YAAY,CAAC,KAAD,CAA3C;;AACA,QAAMI,eAAe,GAAG,MAAMJ,YAAY,CAAC,IAAD,CAA1C;;AACA,QAAMK,mBAAmB,GAAG,MAAMH,eAAe,CAAC,KAAD,CAAjD;;AACA,QAAMI,kBAAkB,GAAG,MAAMJ,eAAe,CAAC,IAAD,CAAhD;;AAEA,QAAM,CAACK,MAAD,EAASC,SAAT,IAAsBlB,QAAQ,CAAC,KAAD,CAApC;;AAEA,QAAMmB,cAAc,GAAG,YAAY;AAE/B,UAAMC,UAAU,GAAG,kCAAnB;AAEA,QAAIC,MAAM,GAAGC,QAAQ,CAACC,cAAT,CAAwB,QAAxB,EAAkCC,KAA/C;AACA,QAAIC,QAAQ,GAAGH,QAAQ,CAACC,cAAT,CAAwB,UAAxB,EAAoCC,KAAnD;AACA,QAAIE,KAAK,GAAGJ,QAAQ,CAACC,cAAT,CAAwB,OAAxB,EAAiCC,KAA7C;AACA,QAAIG,QAAQ,GAAGL,QAAQ,CAACC,cAAT,CAAwB,UAAxB,EAAoCC,KAAnD;;AAEA,QAAIH,MAAM,KAAK,EAAX,IAAiBI,QAAQ,KAAK,EAA9B,IAAoCL,UAAU,CAACQ,IAAX,CAAgBF,KAAhB,CAApC,IAA8DC,QAAQ,KAAK,EAA/E,EAAmF;AAC/E,YAAMpB,GAAG,CAACsB,QAAJ,CAAaR,MAAb,EAAqBI,QAArB,EAA+BC,KAA/B,EAAsCC,QAAtC,EACDG,IADC,CACIC,QAAQ,IAAI;AACdC,QAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuB,KAAvB;AACH,OAHC,EAGCC,KAHD,CAGOC,KAAK,IAAI;AACd,cAAMC,aAAa,GAAGf,QAAQ,CAACC,cAAT,CAAwB,eAAxB,CAAtB;AACAc,QAAAA,aAAa,CAACC,SAAd,GAA0B,mDAA1B;AACAD,QAAAA,aAAa,CAACE,SAAd,CAAwBC,GAAxB,CAA4B,YAA5B;AACH,OAPC,CAAN;AAQH,KATD,MASO;AACH,YAAMH,aAAa,GAAGf,QAAQ,CAACC,cAAT,CAAwB,eAAxB,CAAtB;AACAc,MAAAA,aAAa,CAACC,SAAd,GAA0B,yCAA1B;AACAD,MAAAA,aAAa,CAACE,SAAd,CAAwBC,GAAxB,CAA4B,YAA5B;AACH;AAEJ,GAxBD;;AA0BAzC,EAAAA,SAAS,CAAC,MAAM;AACZ,mBAAe0C,QAAf,GAA0B;AACtBC,MAAAA,SAAS;AACZ;;AACDD,IAAAA,QAAQ;AACX,GALQ,EAKN,EALM,CAAT;;AAOA,QAAME,cAAc,GAAIC,IAAD;AAAA;;AAAA,WACnB,0BAAAtB,QAAQ,CAACuB,MAAT,CAAgBC,KAAhB,CAAsB,cAAcF,IAAd,GAAqB,kBAA3C,iFAAgEG,GAAhE,OAAyE,EADtD;AAAA,GAAvB;;AAIA,QAAML,SAAS,GAAG,YAAY;AAC1B,UAAMM,KAAK,GAAGL,cAAc,CAAC,MAAD,CAA5B;;AAEA,QAAIK,KAAK,KAAK,EAAd,EAAkB;AACd,YAAMzC,GAAG,CAAC0C,QAAJ,CAAaD,KAAb,EAAoBlB,IAApB,CAAyBC,QAAQ,IAAI;AACvCb,QAAAA,SAAS,CAACa,QAAQ,CAACmB,IAAT,CAAcC,EAAf,CAAT;AACH,OAFK,EAEHhB,KAFG,CAEGC,KAAK,IAAI;AACdlB,QAAAA,SAAS,CAAC,KAAD,CAAT;AACAI,QAAAA,QAAQ,CAACuB,MAAT,GAAkB,SAAS,mDAA3B;AACAb,QAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuB,KAAvB;AACH,OANK,CAAN;AAOH;AAEJ,GAbD;;AAeA,WAASkB,MAAT,GAAiB;AACb9B,IAAAA,QAAQ,CAACuB,MAAT,GAAkB,SAAS,mDAA3B;AACH;;AAED,QAAMQ,WAAW,GAAG,YAAY;AAC5B,QAAI3B,KAAK,GAAGJ,QAAQ,CAACC,cAAT,CAAwB,OAAxB,EAAiCC,KAA7C;AACA,QAAIG,QAAQ,GAAGL,QAAQ,CAACC,cAAT,CAAwB,UAAxB,EAAoCC,KAAnD;AAEA,UAAMjB,GAAG,CAAC+C,KAAJ,CAAU5B,KAAV,EAAiBC,QAAjB,EACDG,IADC,CACIC,QAAQ,IAAI;AACdT,MAAAA,QAAQ,CAACuB,MAAT,GAAkB,UAAUd,QAAQ,CAACmB,IAAnB,GAA0B,wBAA5C;AACAlB,MAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuB,KAAvB;AACH,KAJC,EAICC,KAJD,CAIOC,KAAK,IAAI;AACd,YAAMmB,UAAU,GAAGjC,QAAQ,CAACC,cAAT,CAAwB,YAAxB,CAAnB;AACAgC,MAAAA,UAAU,CAACjB,SAAX,GAAuB,wBAAvB;AACAiB,MAAAA,UAAU,CAAChB,SAAX,CAAqBC,GAArB,CAAyB,YAAzB;AACH,KARC,CAAN;AASH,GAbD;;AAeA,sBACI,QAAC,MAAD;AAAQ,IAAA,gBAAgB,MAAxB;AAAyB,IAAA,MAAM,EAAC,IAAhC;AAAqC,IAAA,EAAE,EAAC,OAAxC;AAAgD,IAAA,OAAO,EAAC,OAAxD;AAAgE,IAAA,MAAM,EAAC,KAAvE;AAAA,4BACI,QAAC,SAAD;AAAA,8BACI,QAAC,MAAD,CAAQ,KAAR;AAAc,QAAA,IAAI,EAAC,GAAnB;AAAA,+BAAuB;AAAK,UAAA,GAAG,EAAC,WAAT;AAAqB,UAAA,GAAG,EAAC,yBAAzB;AAAmD,UAAA,KAAK,EAAC;AAAzD;AAAA;AAAA;AAAA;AAAA;AAAvB;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI,QAAC,MAAD,CAAQ,MAAR;AAAe,yBAAc;AAA7B;AAAA;AAAA;AAAA;AAAA,cAFJ,eAGI,QAAC,MAAD,CAAQ,QAAR;AAAiB,QAAA,EAAE,EAAC,uBAApB;AAAA,gCACI,QAAC,GAAD;AAAK,UAAA,SAAS,EAAC,SAAf;AAAA,kCACI,QAAC,GAAD,CAAK,IAAL;AAAU,YAAA,IAAI,EAAC,GAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI,QAAC,GAAD,CAAK,IAAL;AAAU,YAAA,IAAI,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFJ,eAGI,QAAC,GAAD,CAAK,IAAL;AAAU,YAAA,IAAI,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAHJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAMI,QAAC,GAAD;AAAA,oBACKG,cAAc,CAAC,MAAD,CAAd,KAA2B,EAA3B,gBAEG;AAAA,oCACI,QAAC,GAAD,CAAK,IAAL;AAAU,cAAA,OAAO,EAAE7B,eAAnB;AAAoC,cAAA,EAAE,EAAC,UAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,eAEI,QAAC,GAAD,CAAK,IAAL;AAAU,cAAA,OAAO,EAAEE,kBAAnB;AAAuC,cAAA,EAAE,EAAC,aAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFJ;AAAA,0BAFH,gBAOG,QAAC,WAAD;AAAa,YAAA,KAAK,EAAC,WAAnB;AAA+B,YAAA,EAAE,EAAC,oBAAlC;AAAA,oCACI,QAAC,WAAD,CAAa,IAAb;AAAkB,cAAA,IAAI,EAAC,GAAvB;AAAA,sCAA2B;AAAG,gBAAA,KAAK,EAAC;AAAT;AAAA;AAAA;AAAA;AAAA,sBAA3B;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,eAEI,QAAC,WAAD,CAAa,IAAb;AAAkB,cAAA,IAAI,EAAC,GAAvB;AAAA,sCAA2B;AAAG,gBAAA,KAAK,EAAC;AAAT;AAAA;AAAA;AAAA;AAAA,sBAA3B;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFJ,eAGI,QAAC,WAAD,CAAa,OAAb;AAAA;AAAA;AAAA;AAAA,oBAHJ,eAII,QAAC,WAAD,CAAa,IAAb;AAAkB,cAAA,OAAO,EAAEoC,MAA3B;AAAA,sCAAmC;AAAG,gBAAA,KAAK,EAAC;AAAT;AAAA;AAAA;AAAA;AAAA,sBAAnC;AAAA;AAAA;AAAA;AAAA;AAAA,oBAJJ;AAAA;AAAA;AAAA;AAAA;AAAA;AARR;AAAA;AAAA;AAAA;AAAA,gBANJ;AAAA;AAAA;AAAA;AAAA;AAAA,cAHJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,eA6BI,QAAC,KAAD;AAAO,MAAA,IAAI,EAAE3C,SAAb;AAAwB,MAAA,MAAM,EAAEI,gBAAhC;AAAA,8BACI,QAAC,KAAD,CAAO,MAAP;AAAc,QAAA,WAAW,MAAzB;AAAA,+BACI,QAAC,KAAD,CAAO,KAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cADJ,eAII,QAAC,KAAD,CAAO,IAAP;AAAA,+BACI;AAAK,UAAA,SAAS,EAAC,OAAf;AAAA,kCACI;AAAA,oCACI;AAAO,cAAA,OAAO,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,eACwC;AAAA;AAAA;AAAA;AAAA,oBADxC,eAEI;AAAO,cAAA,IAAI,EAAC,MAAZ;AAAmB,cAAA,EAAE,EAAC;AAAtB;AAAA;AAAA;AAAA;AAAA,oBAFJ,eAEoC;AAAA;AAAA;AAAA;AAAA,oBAFpC,eAGI;AAAO,cAAA,OAAO,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAHJ,eAGgD;AAAA;AAAA;AAAA;AAAA,oBAHhD,eAII;AAAO,cAAA,IAAI,EAAC,UAAZ;AAAuB,cAAA,EAAE,EAAC;AAA1B;AAAA;AAAA;AAAA;AAAA,oBAJJ,eAI2C;AAAA;AAAA;AAAA;AAAA,oBAJ3C,eAIiD;AAAA;AAAA;AAAA;AAAA,oBAJjD,eAKI;AAAK,cAAA,KAAK,EAAE;AAAE2C,gBAAAA,OAAO,EAAE;AAAX,eAAZ;AAAiC,cAAA,EAAE,EAAC;AAApC;AAAA;AAAA;AAAA;AAAA,oBALJ;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAQI,QAAC,MAAD;AAAQ,YAAA,OAAO,EAAEH,WAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBARJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cAJJ;AAAA;AAAA;AAAA;AAAA;AAAA,YA7BJ,eA+CI,QAAC,KAAD;AAAO,MAAA,IAAI,EAAE1C,YAAb;AAA2B,MAAA,MAAM,EAAEI,mBAAnC;AAAA,8BACI,QAAC,KAAD,CAAO,MAAP;AAAc,QAAA,WAAW,MAAzB;AAAA,+BACI,QAAC,KAAD,CAAO,KAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cADJ,eAII,QAAC,KAAD,CAAO,IAAP;AAAA,+BACI;AAAK,UAAA,SAAS,EAAC,QAAf;AAAA,kCACI;AAAA,oCACI;AAAO,cAAA,OAAO,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,eAC0C;AAAA;AAAA;AAAA;AAAA,oBAD1C,eAEI;AAAO,cAAA,IAAI,EAAC,MAAZ;AAAmB,cAAA,EAAE,EAAC;AAAtB;AAAA;AAAA;AAAA;AAAA,oBAFJ,eAEqC;AAAA;AAAA;AAAA;AAAA,oBAFrC,eAGI;AAAO,cAAA,OAAO,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAHJ,eAG8C;AAAA;AAAA;AAAA;AAAA,oBAH9C,eAII;AAAO,cAAA,IAAI,EAAC,MAAZ;AAAmB,cAAA,EAAE,EAAC;AAAtB;AAAA;AAAA;AAAA;AAAA,oBAJJ,eAIuC;AAAA;AAAA;AAAA;AAAA,oBAJvC,eAKI;AAAO,cAAA,OAAO,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBALJ,eAKwC;AAAA;AAAA;AAAA;AAAA,oBALxC,eAMI;AAAO,cAAA,IAAI,EAAC,MAAZ;AAAmB,cAAA,EAAE,EAAC;AAAtB;AAAA;AAAA;AAAA;AAAA,oBANJ,eAMoC;AAAA;AAAA;AAAA;AAAA,oBANpC,eAOI;AAAO,cAAA,OAAO,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAPJ,eAOgD;AAAA;AAAA;AAAA;AAAA,oBAPhD,eAQI;AAAO,cAAA,IAAI,EAAC,UAAZ;AAAuB,cAAA,EAAE,EAAC;AAA1B;AAAA;AAAA;AAAA;AAAA,oBARJ,eAQ2C;AAAA;AAAA;AAAA;AAAA,oBAR3C,eAQiD;AAAA;AAAA;AAAA;AAAA,oBARjD,eASI;AAAK,cAAA,KAAK,EAAE;AAAEyC,gBAAAA,OAAO,EAAE;AAAX,eAAZ;AAAiC,cAAA,EAAE,EAAC;AAApC;AAAA;AAAA;AAAA;AAAA,oBATJ;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAYI,QAAC,MAAD;AAAQ,YAAA,OAAO,EAAErC,cAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAZJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cAJJ;AAAA;AAAA;AAAA;AAAA;AAAA,YA/CJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAwEH;;GA1JQX,M;;KAAAA,M;AA4JT,eAAeA,MAAf","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { Navbar, Nav, Container, Modal, Button, NavDropdown } from 'react-bootstrap'\r\nimport { api } from '../API/api';\r\n\r\nfunction NavBar() {\r\n    const [showLogin, setShowLogin] = useState(false);\r\n    const [showRegister, setShowRegister] = useState(false);\r\n\r\n    const handleCloseLogin = () => setShowLogin(false);\r\n    const handleShowLogin = () => setShowLogin(true);\r\n    const handleCloseRegister = () => setShowRegister(false);\r\n    const handleShowRegister = () => setShowRegister(true);\r\n\r\n    const [logged, setLogged] = useState(false);\r\n\r\n    const submitRegister = async () => {\r\n\r\n        const emailRegex = /^[\\w-\\.]+@([\\w-]+\\.)+[\\w-]{2,4}$/\r\n\r\n        var nombre = document.getElementById('nombre').value;\r\n        var apellido = document.getElementById('apellido').value;\r\n        var email = document.getElementById('email').value;\r\n        var password = document.getElementById('password').value;\r\n\r\n        if (nombre !== '' && apellido !== '' && emailRegex.test(email) && password !== '') {\r\n            await api.register(nombre, apellido, email, password)\r\n                .then(response => {\r\n                    window.location.reload(false);\r\n                }).catch(error => {\r\n                    const errorRegister = document.getElementById('errorRegister');\r\n                    errorRegister.innerHTML = 'Ya existe una cuenta con este correo electrónico.';\r\n                    errorRegister.classList.add('errorLogin');\r\n                })\r\n        } else {\r\n            const errorRegister = document.getElementById('errorRegister');\r\n            errorRegister.innerHTML = 'Rellena todos los campos correctamente.';\r\n            errorRegister.classList.add('errorLogin');\r\n        }\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n        async function loggedIn() {\r\n            getLogged();\r\n        }\r\n        loggedIn()\r\n    }, [])\r\n\r\n    const getCookieValue = (name) => (\r\n        document.cookie.match('(^|;)\\\\s*' + name + '\\\\s*=\\\\s*([^;]+)')?.pop() || ''\r\n    )\r\n\r\n    const getLogged = async () => {\r\n        const token = getCookieValue('sess')\r\n\r\n        if (token !== '') {\r\n            await api.isLogged(token).then(response => {\r\n                setLogged(response.data.id)\r\n            }).catch(error => {\r\n                setLogged(false)\r\n                document.cookie = 'sess' + '=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;';\r\n                window.location.reload(false);\r\n            })\r\n        }\r\n\r\n    }\r\n\r\n    function logOut(){\r\n        document.cookie = 'sess' + '=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;';\r\n    }\r\n\r\n    const submitLogin = async () => {\r\n        var email = document.getElementById('email').value;\r\n        var password = document.getElementById('password').value;\r\n\r\n        await api.login(email, password)\r\n            .then(response => {\r\n                document.cookie = 'sess=' + response.data + '; Path=/; max-age=3600';\r\n                window.location.reload(false);\r\n            }).catch(error => {\r\n                const errorLogin = document.getElementById('errorLogin');\r\n                errorLogin.innerHTML = 'Credenciales erróneas.';\r\n                errorLogin.classList.add('errorLogin');\r\n            })\r\n    }\r\n\r\n    return (\r\n        <Navbar collapseOnSelect expand=\"lg\" bg=\"light\" variant=\"light\" sticky='top'>\r\n            <Container>\r\n                <Navbar.Brand href=\"/\"><img alt='Compralas' src='/img/compralas logo.png' width='60px' /></Navbar.Brand>\r\n                <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\r\n                <Navbar.Collapse id=\"responsive-navbar-nav\">\r\n                    <Nav className=\"me-auto\">\r\n                        <Nav.Link href=\"/\">Home</Nav.Link>\r\n                        <Nav.Link href=\"/eventos\">Eventos</Nav.Link>\r\n                        <Nav.Link href=\"/sobre-nosotros\">Sobre nosotros</Nav.Link>\r\n                    </Nav>\r\n                    <Nav>\r\n                        {getCookieValue('sess') === ''\r\n                            ?\r\n                            <>\r\n                                <Nav.Link onClick={handleShowLogin} id=\"btnLogin\">Log in</Nav.Link>\r\n                                <Nav.Link onClick={handleShowRegister} id=\"btnRegister\">Regístrate</Nav.Link>\r\n                            </>\r\n                            :\r\n                            <NavDropdown title=\"Mi cuenta\" id=\"basic-nav-dropdown\">\r\n                                <NavDropdown.Item href=\"#\"><i class=\"bi bi-person-circle\"></i> Mis datos</NavDropdown.Item>\r\n                                <NavDropdown.Item href=\"#\"><i class=\"bi bi-ticket-perforated\"></i> Mis compras</NavDropdown.Item>\r\n                                <NavDropdown.Divider />\r\n                                <NavDropdown.Item onClick={logOut}><i class=\"bi bi-door-open\"></i> Cerrar sesión</NavDropdown.Item>\r\n                            </NavDropdown>\r\n                        }\r\n                    </Nav>\r\n                </Navbar.Collapse>\r\n            </Container>\r\n\r\n            <Modal show={showLogin} onHide={handleCloseLogin}>\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>Iniciar sesión</Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body>\r\n                    <div className=\"Login\">\r\n                        <form>\r\n                            <label htmlFor=\"email\">Email</label><br />\r\n                            <input type=\"text\" id=\"email\" /><br />\r\n                            <label htmlFor=\"password\">Contraseña</label><br />\r\n                            <input type=\"password\" id=\"password\" /><br /><br />\r\n                            <div style={{ display: 'none' }} id='errorLogin'></div>\r\n                        </form>\r\n                        <Button onClick={submitLogin}>Acceder</Button>\r\n                    </div>\r\n                </Modal.Body>\r\n            </Modal>\r\n\r\n            <Modal show={showRegister} onHide={handleCloseRegister}>\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>Regístrate</Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body>\r\n                    <div className=\"Signup\">\r\n                        <form>\r\n                            <label htmlFor=\"nombre\">Nombre</label><br />\r\n                            <input type=\"text\" id=\"nombre\" /><br />\r\n                            <label htmlFor=\"apellido\">Apellido</label><br />\r\n                            <input type=\"text\" id=\"apellido\" /><br />\r\n                            <label htmlFor=\"email\">Email</label><br />\r\n                            <input type=\"text\" id=\"email\" /><br />\r\n                            <label htmlFor=\"password\">Contraseña</label><br />\r\n                            <input type=\"password\" id=\"password\" /><br /><br />\r\n                            <div style={{ display: 'none' }} id='errorRegister'></div>\r\n                        </form>\r\n                        <Button onClick={submitRegister}>Registrar</Button>\r\n                    </div>\r\n                </Modal.Body>\r\n            </Modal>\r\n        </Navbar>\r\n    )\r\n\r\n}\r\n\r\nexport default NavBar;"]},"metadata":{},"sourceType":"module"}